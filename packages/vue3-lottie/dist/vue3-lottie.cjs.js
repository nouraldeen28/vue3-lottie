(function(){"use strict";try{if(typeof document!="undefined"){var t=document.createElement("style");t.appendChild(document.createTextNode(".lottie-animation-container{width:var(--lottie-animation-container-width);height:var(--lottie-animation-container-height);background-color:var(--lottie-animation-container-background-color);overflow:hidden;margin:var(--lottie-animation-margin)}.lottie-animation-container svg{transform:scale(var(--lottie-animation-scale))}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}})();
"use strict";var H=Object.defineProperty,_=Object.defineProperties;var b=Object.getOwnPropertyDescriptors;var g=Object.getOwnPropertySymbols;var C=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;var p=(t,r,n)=>r in t?H(t,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[r]=n,S=(t,r)=>{for(var n in r||(r={}))C.call(r,n)&&p(t,n,r[n]);if(g)for(var n of g(r))F.call(r,n)&&p(t,n,r[n]);return t},h=(t,r)=>_(t,b(r));Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var i=require("vue"),P=require("lottie-web");function A(t){return t&&typeof t=="object"&&"default"in t?t:{default:t}}var B=A(P),O=function t(r,n){if(r===n)return!0;if(r&&n&&typeof r=="object"&&typeof n=="object"){if(r.constructor!==n.constructor)return!1;var o,e,l;if(Array.isArray(r)){if(o=r.length,o!=n.length)return!1;for(e=o;e--!==0;)if(!t(r[e],n[e]))return!1;return!0}if(r instanceof Map&&n instanceof Map){if(r.size!==n.size)return!1;for(e of r.entries())if(!n.has(e[0]))return!1;for(e of r.entries())if(!t(e[1],n.get(e[0])))return!1;return!0}if(r instanceof Set&&n instanceof Set){if(r.size!==n.size)return!1;for(e of r.entries())if(!n.has(e[0]))return!1;return!0}if(ArrayBuffer.isView(r)&&ArrayBuffer.isView(n)){if(o=r.length,o!=n.length)return!1;for(e=o;e--!==0;)if(r[e]!==n[e])return!1;return!0}if(r.constructor===RegExp)return r.source===n.source&&r.flags===n.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===n.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===n.toString();if(l=Object.keys(r),o=l.length,o!==Object.keys(n).length)return!1;for(e=o;e--!==0;)if(!Object.prototype.hasOwnProperty.call(n,l[e]))return!1;for(e=o;e--!==0;){var f=l[e];if(!t(r[f],n[f]))return!1}return!0}return r!==r&&n!==n};function c(t){var r,n,o;if(Array.isArray(t)){for(n=Array(r=t.length);r--;)n[r]=(o=t[r])&&typeof o=="object"?c(o):o;return n}if(Object.prototype.toString.call(t)==="[object Object]"){n={};for(r in t)r==="__proto__"?Object.defineProperty(n,r,{value:c(t[r]),configurable:!0,enumerable:!0,writable:!0}):n[r]=(o=t[r])&&typeof o=="object"?c(o):o;return n}return t}var k=(t,r)=>{const n=t.__vccOpts||t;for(const[o,e]of r)n[o]=e;return n};const M=i.defineComponent({props:{animationData:{type:Object,default:()=>({})},animationLink:{type:String,default:""},loop:{type:[Boolean,Number],default:!0},autoPlay:{type:Boolean,default:!0},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},speed:{type:Number,default:1},delay:{type:Number,default:0},direction:{type:String,default:"forward"},pauseOnHover:{type:Boolean,default:!1},playOnHover:{type:Boolean,default:!1},backgroundColor:{type:String,default:"transparent"},pauseAnimation:{type:Boolean,default:!1},noMargin:{type:Boolean,default:!1},scale:{type:Number,default:1},renderer:{type:String,default:"svg"},rendererSettings:{type:Object,default:()=>({})},assetsPath:{type:String,default:""}},emits:{onComplete:null,onLoopComplete:null,onEnterFrame:null,onSegmentStart:null,onAnimationLoaded:null,onDrawnFrame:null,onHoverStart:null,onHoverEnd:null},setup(t,{emit:r}){const n=i.ref();let o,e=null,l=1;const f=i.ref(0),y=i.ref(null),m=i.ref(0);i.watchEffect(async()=>{if(!!n.value){if(t.animationLink!="")try{o=await(await fetch(t.animationLink)).json()}catch(a){console.error(a);return}else if(O(t.animationData,{})===!1)o=c(t.animationData);else throw new Error("You must provide either animationLink or animationData");D()}});const D=()=>{if(!n.value||!o)return;e==null||e.destroy(),e=null;let a=t.autoPlay,u=t.loop;t.playOnHover&&(a=!1),typeof u=="number"&&u>0&&(u=u-1),t.delay>0&&(a=!1);const s={container:n.value,renderer:t.renderer,loop:u,autoplay:a,animationData:o,assetsPath:t.assetsPath};O(t.rendererSettings,{})===!1&&(s.rendererSettings=t.rendererSettings),t.scale!==1&&(s.rendererSettings=h(S({},s.rendererSettings),{viewBoxOnly:!0})),e=B.default.loadAnimation(s),y.value=e,setTimeout(()=>{a=t.autoPlay,t.playOnHover?e==null||e.pause():a?e==null||e.play():e==null||e.pause(),r("onAnimationLoaded")},t.delay),e.setSpeed(t.speed),t.direction==="reverse"&&e.setDirection(-1),t.direction==="normal"&&e.setDirection(1),(t.pauseAnimation||t.playOnHover)&&e.pause(),e.addEventListener("loopComplete",()=>{t.direction==="alternate"&&(e==null||e.stop(),l=l===-1?1:-1,e==null||e.setDirection(l),e==null||e.play()),r("onLoopComplete")}),e.addEventListener("complete",()=>{r("onComplete")}),e.addEventListener("enterFrame",d=>{e&&(f.value=e.currentFrame),r("onEnterFrame",d)}),e.addEventListener("drawnFrame",d=>{let v=c(d);e?(v.currentFrame=e.currentFrame,r("onDrawnFrame",v)):r("onDrawnFrame",d)}),e.addEventListener("segmentStart",()=>{r("onSegmentStart")})},L=i.computed(()=>{let a=t.width,u=t.height;return typeof t.width=="number"&&(a=`${t.width}px`),typeof t.height=="number"&&(u=`${t.height}px`),{"--lottie-animation-container-width":a,"--lottie-animation-container-height":u,"--lottie-animation-container-background-color":t.backgroundColor,"--lottie-animation-margin":t.noMargin?"0":"0 auto","--lottie-animation-scale":t.scale!=1?t.scale:""}}),j=()=>{e&&t.pauseOnHover&&e.pause(),e&&t.playOnHover&&e.play(),r("onHoverStart")},E=()=>{e&&t.pauseOnHover&&e.play(),e&&t.playOnHover&&e.pause(),r("onHoverEnd")};return i.watch(()=>t.pauseAnimation,()=>{if((t.pauseOnHover||t.playOnHover)&&t.pauseAnimation){console.error("If you are using pauseAnimation prop for Vue3-Lottie, please remove the props pauseOnHover and playOnHover");return}e&&(t.pauseAnimation?e.pause():e.play())}),i.watch(()=>e,a=>{y.value=a}),{currentFrame:f,instance:y,currentSetSpeed:m,lottieAnimationContainer:n,hoverEnded:E,hoverStarted:j,getCurrentStyle:L,play:()=>{e&&e.play()},pause:()=>{e&&e.pause()},stop:()=>{e&&e.stop()},destroy:()=>{e&&e.destroy()},setSpeed:(a=1)=>{if(a<=0)throw new Error("Speed must be greater than 0");e&&(e.setSpeed(a),m.value=a)},setDirection:a=>{e&&(a==="forward"?e.setDirection(1):a==="reverse"&&e.setDirection(-1))},goToAndStop:(a,u=!0)=>{e&&e.goToAndStop(a,u)},goToAndPlay:(a,u=!0)=>{e&&e.goToAndPlay(a,u)},playSegments:(a,u=!1)=>{e&&e.playSegments(a,u)},setSubFrame:(a=!0)=>{e&&e.setSubframe(a)},getDuration:(a=!0)=>{if(e)return e.getDuration(a)},updateDocumentData:(a,u=0)=>{e&&e.renderer.elements[u].updateDocumentData(a)}}}});function N(t,r,n,o,e,l){return i.openBlock(),i.createElementBlock("div",{ref:"lottieAnimationContainer",class:"lottie-animation-container",style:i.normalizeStyle(t.getCurrentStyle),onMouseenter:r[0]||(r[0]=(...f)=>t.hoverStarted&&t.hoverStarted(...f)),onMouseleave:r[1]||(r[1]=(...f)=>t.hoverEnded&&t.hoverEnded(...f))},null,36)}var w=k(M,[["render",N]]),T={install(t,r){var o;const n=(o=r==null?void 0:r.name)!=null?o:"Vue3Lottie";t.component(n,w)}};exports.Vue3Lottie=w;exports.default=T;
